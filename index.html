<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lock In - Focus Timer</title>
    <link rel="stylesheet" href="src/css/main.css" />
  </head>
  <body>
    <!-- Navigation Menu -->
    <nav class="navbar">
      <div class="navbar-container">
        <!-- Logo Section -->
        <div class="navbar-brand">
          <div class="logo">🔒 Lock In</div>
        </div>
        
        <!-- Right Navigation Items -->
        <div class="navbar-nav">
          <button id="reportsNavBtn" class="nav-item nav-btn">📊 Reports</button>
          <button id="themeToggle" class="nav-item nav-icon" title="Toggle theme">🌙</button>
          <div class="nav-item nav-profile">
            <div class="profile-circle" id="profileCircle">
              <span id="profileInitial">U</span>
            </div>
            <!-- Dropdown Menu -->
            <div class="profile-dropdown" id="profileDropdown">
              <div class="dropdown-item" id="settingsBtn">
                <span class="dropdown-icon">⚙️</span>
                <span>Settings</span>
              </div>
              <div class="dropdown-item" id="signOutBtn">
                <span class="dropdown-icon">🚪</span>
                <span>Sign out</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <div class="main-content">
      <div class="container card">
        <div id="loadingSection" class="loading">
          <div>🔄 Loading...</div>
        </div>
        <!-- Timer Section (shows after login verification) -->
        <div id="timerSection" style="display: none">
          <div id="timer" class="timer">00:00:00</div>

          <div class="controls">
            <button onclick="start()" id="startBtn" class="btn btn-success">▶️ Start</button>
            <button onclick="stop()" id="stopBtn" class="btn btn-danger" disabled>⏸️ Stop</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Reports Overlay -->
    <div id="reportsOverlay" class="reports-overlay">
      <div class="reports-modal">
        <div class="reports-header">
          <h2>📊 Reports Dashboard</h2>
          <button id="closeReportsBtn" class="close-btn">&times;</button>
        </div>
        
        <div class="reports-content">
          <!-- Summary Stats -->
          <div class="summary-stats">
            <div class="stat-card">
              <h4>This Week</h4>
              <div class="stat-value" id="weeklyHours">0h</div>
            </div>
            <div class="stat-card">
              <h4>This Month</h4>
              <div class="stat-value" id="monthlyHours">0h</div>
            </div>
            <div class="stat-card">
              <h4>Daily Average</h4>
              <div class="stat-value" id="avgDaily">0h</div>
            </div>
          </div>

          <!-- Daily Chart -->
          <div class="chart-container">
            <h4>📈 Daily Activity (Last 30 Days)</h4>
            <div id="dailyChart" class="chart">
              <div class="no-data">Loading chart data...</div>
            </div>
          </div>

          <!-- Recent Days List -->
          <div class="recent-days">
            <h4>📅 Recent Work Days</h4>
            <div id="recentDaysList" class="days-list">
              <div class="no-data">Loading recent data...</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Settings Panel -->
    <div id="settingsPanel" class="settings-panel">
      <div class="settings-overlay" id="settingsOverlay"></div>
      <div class="settings-content">
        <div class="settings-header">
          <h2>⚙️ Settings</h2>
          <button id="closeSettingsBtn" class="close-btn">&times;</button>
        </div>
        
        <div class="settings-body">
          <!-- Theme Settings -->
          <div class="settings-section">
            <h3>🎨 Appearance</h3>
            <div class="setting-item">
              <label for="themeSelect">Theme</label>
              <select id="themeSelect" class="setting-control">
                <option value="light">Light</option>
                <option value="dark">Dark</option>
                <option value="auto">Auto (System)</option>
              </select>
            </div>
          </div>

          <!-- Timer Settings -->
          <div class="settings-section">
            <h3>⏱️ Timer</h3>
            <div class="setting-item">
              <label for="autoSaveInterval">Auto-save interval (minutes)</label>
              <select id="autoSaveInterval" class="setting-control">
                <option value="1">1 minute</option>
                <option value="5" selected>5 minutes</option>
                <option value="10">10 minutes</option>
                <option value="15">15 minutes</option>
              </select>
            </div>
            <div class="setting-item">
              <label for="reminderSound">Sound reminders</label>
              <div class="toggle-switch">
                <input type="checkbox" id="reminderSound" class="toggle-input">
                <span class="toggle-slider"></span>
              </div>
            </div>
          </div>

          <!-- Notifications Settings -->
          <div class="settings-section">
            <h3>🔔 Notifications</h3>
            <div class="setting-item">
              <label for="breakReminder">Break reminders</label>
              <div class="toggle-switch">
                <input type="checkbox" id="breakReminder" class="toggle-input">
                <span class="toggle-slider"></span>
              </div>
            </div>
            <div class="setting-item">
              <label for="dailyGoal">Daily goal (hours)</label>
              <input type="number" id="dailyGoal" class="setting-control" min="1" max="12" step="0.5" value="8">
            </div>
            <div class="setting-item">
              <label for="goalNotification">Goal achievement notifications</label>
              <div class="toggle-switch">
                <input type="checkbox" id="goalNotification" class="toggle-input" checked>
                <span class="toggle-slider"></span>
              </div>
            </div>
          </div>

          <!-- Data Settings -->
          <div class="settings-section">
            <h3>💾 Data</h3>
            <div class="setting-item">
              <button class="btn btn-secondary" id="exportDataBtn">📤 Export Data</button>
              <small class="setting-description">Download your timer data as JSON</small>
            </div>
            <div class="setting-item">
              <button class="btn btn-danger" id="clearDataBtn">🗑️ Clear All Data</button>
              <small class="setting-description">Warning: This will permanently delete all your timer records</small>
            </div>
          </div>

          <!-- About Section -->
          <div class="settings-section">
            <h3>ℹ️ About</h3>
            <div class="setting-item">
              <div class="about-info">
                <p><strong>Lock In - Focus Timer</strong></p>
                <p>Version 1.0.0</p>
                <p>Track your focus time and boost productivity</p>
              </div>
            </div>
          </div>
        </div>

        <div class="settings-footer">
          <button class="btn btn-primary" id="saveSettingsBtn">💾 Save Settings</button>
        </div>
      </div>
    </div>

    <script type="module" src="src/js/app.js"></script>
  </body>
</html>
